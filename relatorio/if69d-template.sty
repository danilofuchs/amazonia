% Template para relatório da disciplina:
% IF69D - Processamento Digital de Imagens
%
% Criado por Fernando Padilha

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{if69d-template}[]


\RequirePackage{ifthen}

% fonte
%\RequirePackage{times}

% margens 3cm
\RequirePackage[a4paper,top=3cm,left=3cm,right=3cm,bottom=3cm]{geometry}

% legendas
\RequirePackage{caption}
\newcommand{\captionfonts}{\footnotesize}

\long\def\@makecaption#1#2{
  \vskip\abovecaptionskip
  \sbox\@tempboxa{{\captionfonts \textit{#1: #2}}}%
  \ifdim \wd\@tempboxa >\hsize
    {\captionfonts \textit{#1: #2}\par}
  \else
    \hbox to\hsize{\hfil\box\@tempboxa\hfil}%
  \fi
  \vskip\belowcaptionskip
}


% identação
\RequirePackage{indentfirst}
\parindent 1.25cm

% novos comandos 
\providecommand{\PDItitulo}{}
\newcommand{\titulo}[1]{\renewcommand{\PDItitulo}{#1}}

\newcommand{\PDIinstituicao}{}
\newcommand{\instituicao}[1]{\renewcommand{\PDIinstituicao}{#1}}

\newcommand{\PDIcurso}{}
\newcommand{\curso}[1]{\renewcommand{\PDIcurso}{#1}}

\providecommand{\PDIdepartamento}{}
\newcommand{\departamento}[1]{\renewcommand{\PDIdepartamento}{#1}}

\newcommand{\PDIdisciplina}{}
\newcommand{\disciplina}[1]{\renewcommand{\PDIdisciplina}{#1}}

\newcommand{\PDIsemestre}{}
\newcommand{\semestre}[1]{\renewcommand{\PDIsemestre}{#1}}

\newcommand{\PDIprofessor}{}
\newcommand{\professor}[1]{\renewcommand{\PDIprofessor}{#1}}

\newcommand{\PDIautor}{}
\newcommand{\autor}[2]{\renewcommand{\PDIautor}{#1 / #2}}

\newcommand{\PDIautordois}{}
\newcommand{\autordois}[2]{\renewcommand{\PDIautordois}{#1 / #2}}


% numeração da página
\RequirePackage{lastpage}
\RequirePackage{color}
\RequirePackage{fancyhdr}

\pagestyle{fancy}
\fancyhead{}
\fancyfoot{}
\fancyhead[RE,RO]{
\footnotesize\it
Relat\'{o}rio IF69D -- \PDItitulo% \\[-6pt]
}
\fancyfoot[RE,RO]{
  \footnotesize
  \thepage{}/\pageref{LastPage}
}
%\setlength{\headheight}{12pt}
\renewcommand{\headrulewidth}{0.5pt}


% primeira página
\def\@maketitle{\newpage
\small\noindent\raggedright
\PDIinstituicao \\
\PDIdepartamento \\
\PDIcurso \\
Disciplina: \PDIdisciplina \\
Semestre: \PDIsemestre \\
Prof: \PDIprofessor \\[11pt]
{\Large\bf RELAT\'ORIO} \\
{\large\bf\PDItitulo} \\[11pt]
Alunos: \\
\PDIautor \\
\ifthenelse{\not\equal{\PDIautordois}{}}{\PDIautordois \\}{}
\raggedleft{} \@date \\[-6pt]
\rule{\linewidth}{0.5pt}
}
\let\maketitleOLD\maketitle
\renewcommand{\maketitle}{\maketitleOLD\thispagestyle{fancy}}


% seções
\renewcommand\section{\@startsection {section}{1}{\z@}%
  {-3.5ex \@plus -1ex \@minus -.2ex}%
  {2.3ex \@plus.2ex}%
  {\normalfont\normalsize\bfseries}}

\renewcommand\subsection{\@startsection {subsection}{2}{\z@}%
  {-3.5ex \@plus -1ex \@minus -.2ex}%
  {2.3ex \@plus.2ex}%
  {\normalfont\normalsize\bfseries}}